# Irrigation Dashboard (React + TS)

Реализация по ТЗ: «Автоматизация системы полива на основе анализа метеорологической обстановки».

## Что сделано (в этой версии)

- **Авторизация (приоритет)**: страница логина/пароля, демо-учетка `admin/admin`, кнопка сброса.
- **Сведения с датчиков (приоритет)**: вкладки по полям, лог строками `Time_ID_wetness_temp_charge`.
- **Графики (приоритет)**: 
  - средние значения по полю (3 линии),
  - значения выбранного датчика (3 линии),
  - обновление в реальном времени (каждые ~10 сек, в демо через эмулятор).
- **API (приоритет)**: страница получения погоды по координатам поля (Яндекс.Погода).
- **Мониторинг / Карта / Настройки (по возможности)**: базовые версии.

> Важно: сейчас данные датчиков **эмулируются** (mockStream). Замените `mockStream.ts` на WebSocket/MQTT/REST из вашего backend.

## Запуск

```bash
npm i
npm run dev
```

Откройте: http://localhost:5173

## Яндекс.Погода (API)

1) Создайте файл `.env.local` рядом с `package.json`:

```bash
VITE_YANDEX_WEATHER_KEY=ваш_ключ
```

2) Возможна проблема **CORS** при запросе из браузера к `api.weather.yandex.ru`.
Обычно это решается:
- проксированием через ваш backend, или
- dev-proxy в Vite (middleware), или
- отдельным API gateway.

В `src/services/weather.ts` уже есть комментарии что и где менять.

## Куда развивать под полное ТЗ

- «Мониторинг»: календарь 01..31, раскраска по часам, архив по окончанию часа.
- «Карта»: редактор схемы (линии/кружки), привязка кружка к `id` и сетевому адресу датчика, отображение агрегированного цвета.
- «Настройки»: добавление/удаление полей и датчиков (сотни), более строгая валидация уставок.
- «Автополив»: логика «не включать полив если дождь/высокая влажность» на основе погоды + влажности датчиков.

